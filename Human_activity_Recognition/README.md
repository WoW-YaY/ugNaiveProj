## 人体动作识别系统（HAR） 说明文档

***

### 开发工作说明

#### 数据采集

数据通过微信小程序“人体动作识别系统”中“数据采集”页面采集，共分为“步行”，“深蹲起”，“原地跳绳”，“俄罗斯转体”四个动作，均为==左手持手机==采集得到。

#### 数据处理

数据通过中值滤波和巴特沃斯低通滤波，然后用步长为128的窗口和50%的overlap拆分成每行128个数据，对这128个数据提取尽可能少但是有代表性的特征（最后选择了六个轴的均值）进行提取，作为输入的features。

（对应文件“data_proc.py”）

#### 模型训练

模型选用的是朴素贝叶斯分类器，在传统分类算法中表现出众（在训练数据集下准确率稳定在98%以上），且远比LSTM等神经网络模型简单，在能够满足需求的前提下能够尽可能减少小程序部署的负担。

（对应文件“NBC.py”）

#### 模型部署

这一步只需要把之前模型训练出的结果记录下来导入到小程序中，就可以计算出样本属于每一类的概率，取最大概率的动作就是分类的结果。



> **数据采集**与**模型部署**的具体实现可以参看文件夹“hars”（压缩包名称“HAR微信小程序.zip”）。
>
> **数据处理**与**模型训练**的具体步骤可以参看notebook文件“HAR_Notes.ipynb”。



***



### 程序使用说明

* 微信小程序目前暂未发布，如果有体验需求可以联系我开通体验者权限，体验版二维码已经附到文件夹中。
* 小程序共分两个部分，分别是“数据采集”和“动作识别”。用户使用时直接进入“动作识别”页面即可。
* 注意测试过程中请保持==左手持手机==，准备完毕后点击“开始测试”即可开始识别。目前支持的动作类型仅限于“步行”，“深蹲起”，“原地跳绳”，“俄罗斯转体”，之后可能会发布更新添加新的动作。
* 点击“开始测试”后大约每4～5秒后会有弹窗（持续约2秒）告诉您当前识别的动作类型，30秒后会有弹窗提示计时结束，这时您就可以看到屏幕上显示“30秒内您一共完成了{{某某动作}}{{若干}}次”。
* 由于运动中您可能没有办法注意屏幕，因此在后面的更新中会将上述提示弹窗全部替换成提示语音，确保您运动过程中的便利。
* 当您完成的动作因为某些原因未能被识别时，会有弹窗提示您“请重试”，并且当前所做动作不计入锻炼次数。
